
<!doctype html>
<html amp lang="en">

<head>
    <meta charset="utf-8">
    <script async src="https://cdn.ampproject.org/v0.js"></script>
    <script async custom-element="amp-sidebar" src="https://cdn.ampproject.org/v0/amp-sidebar-0.1.js"></script>
    <script async custom-template="amp-mustache" src="https://cdn.ampproject.org/v0/amp-mustache-0.2.js"></script>
    <link rel="shortcut icon" href="https://shotcutdotcom.github.io/static/images/favicon.ico" type="image/png">
    <title>How to Design a web crawler - Blog - Find Best Reads of All Time on AskGif</title>

    <link rel="canonical" href="https://askgif.com/blog/1686/how-to-design-a-web-crawler/">

    <meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1">
    <script type="application/ld+json">
        {
        "@context": "http://schema.org",
        "@type": "NewsArticle",
        "mainEntityOfPage": "https://askgif.com/",
        "headline": "AskGif",
        "datePublished": "2020/11/20",
        "dateModified":  "2020/11/20",
        "description": "Share this How to Design a web crawler Blog and explore more",
        "author": {
        "@type": "Person",
        "name": "Sumit Chourasia"
        },
        "publisher": {
        "@type": "Organization",
        "name": "Askgif",
        "logo": {
        "@type": "ImageObject",
        "url": "https://raw.githubusercontent.com/sumitc91/data/master/askgif-static/askgif_logo.png"
        }
        },
        "image": {
        "@type": "ImageObject",
        "url": "https://raw.githubusercontent.com/sumitc91/AmpImage/main/Blogs/f983d8a0-6ee2-4024-8702-47973c582627.png",
        "height": 1280,
        "width": 857
        }
        }
    </script>
    <style amp-boilerplate>
        body {
            -webkit-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
            -moz-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
            -ms-animation: -amp-start 8s steps(1, end) 0s 1 normal both;
            animation: -amp-start 8s steps(1, end) 0s 1 normal both
        }

        @-webkit-keyframes -amp-start {
            from {
                visibility: hidden
            }

            to {
                visibility: visible
            }
        }

        @-moz-keyframes -amp-start {
            from {
                visibility: hidden
            }

            to {
                visibility: visible
            }
        }

        @-ms-keyframes -amp-start {
            from {
                visibility: hidden
            }

            to {
                visibility: visible
            }
        }

        @-o-keyframes -amp-start {
            from {
                visibility: hidden
            }

            to {
                visibility: visible
            }
        }

        @keyframes -amp-start {
            from {
                visibility: hidden
            }

            to {
                visibility: visible
            }
        }
    </style>
    <noscript>
        <style amp-boilerplate>
            body {
                -webkit-animation: none;
                -moz-animation: none;
                -ms-animation: none;
                animation: none
            }
        </style>
    </noscript>
    <style amp-custom=''>
        * {
            box-sizing: border-box;
            font-family: 'Roboto';
            transition: all 0.2s linear;
            font-size: 16px;
        }

        html,
        body {
            margin: 0px;
            padding: 0px;
        }

        .content-width {
            width: 80%;
        }

        .content {
            margin: 0 auto;
            padding: 50px 0px;
            line-height: 160%;
        }

        h1 {
            font-size: 240%;
            line-height: 120%;
            margin: 20px 0px;
        }

        h2 {
            font-size: 140%;
            margin: 30px 0px;
        }

        .clearfix {
            clear: both;
        }

        .subtext {
            text-align: left;
            font-weight: 400;
            color: #a5a5a5;
            font-size: 90%;
        }

        .branding {
            font-size: 90%;
            color: #fff;
        }

            .branding a {
                color: inherit;
            }

                .branding a:hover {
                    color: #19B5FE;
                }

        .button {
            padding: 10px 15px;
            text-decoration: none;
            color: #fff;
            background: #19B5FE;
            font-weight: 700;
            text-align: center;
        }

            .button:hover {
                background: #3ebf43;
            }

        /* Header */
        header,
        footer,
        #sidebar {
            background: #2c3e50;
        }

        header {
            padding: 10px 0px;
            position: sticky;
            top: 0;
            z-index: 999;
        }

        #sidebar {
            width: 300px;
            padding: 1.5rem;
        }

        .sidebar-menu {
            padding: 0px;
            margin: 0px;
        }

        .amp-custom-sidebar-header {
            line-height: 3.5rem;
            min-height: 3.5rem;
            color: #fff;
        }

        #sidebar-close {
            cursor: pointer;
        }

        .sidevar-nav-item {
            padding: 10px 0px;
            margin: 0px;
            display: block;
            list-style: none;
            color: #021425;
            text-transform: capitalize;
            letter-spacing: .6px;
            line-height: 2.0625;
            cursor: pointer;
            text-decoration: none;
            color: #fff;
        }

            .sidevar-nav-item:hover {
                color: #19B5FE;
            }

        .menu {
            display: flex;
            justify-content: space-between;
            margin: 0 auto;
        }

        .logo {
            width: 200px;
        }

        #sidebar-menu-btn {
            background: 0 0;
            border: 0;
            color: #fff;
            font-weight: 700;
            font-size: 28px;
        }

        /* POST */
        #article-wrapper {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
        }

        .article {
            flex-basis: 70%;
            padding-right: 30px;
            border-right: 1px solid #e3e3e3;
        }

            .article h1 {
                margin-top: 0px;
            }

        .article-image,
        .article-body {
            margin: 20px 0px;
            width: 340px;
        }

        .author-info {
            color: #9d9d9d;
            font-weight: bold;
        }

        .article a {
            color: inherit;
        }

        a {
            text-decoration: none;
            color: white;
        }

        pre {
            font-family: Consolas, Menlo, Monaco, Lucida Console, Liberation Mono, DejaVu Sans Mono, Bitstream Vera Sans Mono, Courier New, monospace, serif;
            margin-bottom: 10px;
            overflow: auto;
            width: auto;
            padding: 5px;
            background-color: #eee;
            width: 650px !ie7;
            padding-bottom: 20px !ie7;
            max-height: 600px;
        }

        .article a.button {
            margin: 20px 10px 20px 0px;
            display: inline-block;
            width: 120px;
        }

            .article a.button,
            .article a.button:hover {
                color: #fff;
            }

        .article a:hover {
            color: #19B5FE;
        }

        #additional-info {
            flex-basis: 30%;
            padding-left: 30px;
        }

            #additional-info:before {
                display: block;
                height: 6px;
                background-color: #2c3e50;
                content: ' ';
                width: 50px;
                margin-left: 0;
                margin-bottom: 20px;
            }

        .promo,
        .related-box ul li {
            border: 1px solid #e3e3e3;
        }

        .promo {
            padding: 10px;
            margin-top: 20px;
        }

        .article-meta ul,
        .related-box ul {
            padding: 0px;
            margin: 0px;
        }

        .related-box a {
            text-decoration: none;
            color: inherit;
        }

            .related-box a.imp-link {
                color: #3ebf43;
                font-weight: 700;
            }

        .related-box ul li {
            list-style: none;
            padding: 10px;
        }

            .related-box ul li:hover,
            .related-box a:hover {
                text-decoration: underline;
                background: #ebebeb;
            }

        .article-meta {
            margin: 30px 0px;
        }

            .article-meta ul {
                display: flex;
                flex-direction: row;
            }

        .article .article-meta a.tag {
            margin-right: 5px;
            background: #ebebeb;
            font-size: 90%;
            text-decoration: none;
            padding: 5px;
            color: #414141;
            text-transform: uppercase;
        }

        .article .article-meta .tag:hover {
            background: #dadada;
        }

        .article-meta li {
            list-style: none;
        }

        .blockquote-wrapper {
            position: relative;
        }

        .blockquote {
            margin-top: 50px;
            margin-bottom: 50px;
            font-size: 90%;
            font-style: italic;
            text-align: justify;
        }

            .blockquote::before {
                content: "“";
                position: absolute;
                top: 0.25em;
                left: -0.15em;
                color: #e7e6e4;
                font-size: 170px;
                z-index: -1;
            }

        cite {
            display: block;
            text-align: right;
            padding: 10px 0px;
        }

        .amp-components .component {
            margin: 30px 0px;
            position: relative;
            overflow: hidden;
        }

        .color-darkturquoise {
            background-color: darkturquoise;
        }
        /* Footer */
        footer {
            color: #fff;
            text-align: center;
        }

        .article {
            width: 100%;
        }

        #additional-info {
            width: 100%;
        }

        @media only screen and (max-width: 1024px) {
            h1 {
                font-size: 140%;
            }

            .article {
                padding-right: 20px;
            }

            #additional-info {
                padding-left: 20px;
            }

            .related-box ul li, .promo p, .promo a {
                font-size: 90%;
            }
        }

        @media only screen and (max-width: 768px) {
            .article,
            #additional-info {
                border: 0px;
                flex-basis: 100%;
                padding: 0px;
                margin-bottom: 30px;
            }

            .logo {
                width: 160px;
            }

            h1 {
                font-size: 160%;
            }

            .article a.button,
            .article .article-meta a.tag li {
                font-size: 90%;
            }
        }

        @media only screen and (max-width: 600px) {
            h1 {
                font-size: 120%;
            }

            .content-width {
                width: 90%;
            }

            .content {
                padding: 30px 0px;
            }

            .logo {
                width: 140px;
            }

            header {
                padding: 5px 0px;
            }

            #article-wrapper {
                flex-direction: column;
            }

            .blockquote {
                margin: 50px 0px;
                font-size: 100%;
            }

            .article-meta ul {
                flex-wrap: wrap;
            }

            .article-meta a.tag {
                margin-bottom: 10px;
            }

            .article a.button {
                margin: 10px 10px 10px 0px;
            }

            .branding p, .branding a {
                font-size: 14px;
            }
        }
    </style>
     <script async custom-element="amp-auto-ads"
            src="https://cdn.ampproject.org/v0/amp-auto-ads-0.1.js">
    </script>
    <script async custom-element="amp-ad" src="https://cdn.ampproject.org/v0/amp-ad-0.1.js"></script> 
    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
</head>

<body>
     <amp-auto-ads type="adsense"
                  data-ad-client="ca-pub-1068871795581451">
    </amp-auto-ads> 
    <amp-analytics type="googleanalytics">
        <script type="application/json">
            {
            "vars": {
            "account": "UA-118778979-1"
            },
            "triggers": {
            "trackPageview": {
            "on": "visible",
            "request": "pageview"
            }
            }
            }
        </script>
    </amp-analytics>
    <header>
        <div class="menu content-width">
            <div class="logo">
                <a href="https://askgif.com/">
                    AskGif<sup>TM</sup>
                </a>
            </div>
            <button id="sidebar-menu-btn" on="tap:sidebar.toggle">☰</button>
        </div>
    </header>
    <amp-sidebar id="sidebar" layout="nodisplay" side="right">
        <div class="amp-custom-sidebar-header">
            <div role="button" aria-label="close sidebar" on="tap:sidebar.toggle" tabindex="0" id="sidebar-close">✕</div>
        </div>
        <ul class="sidebar-menu">
            <a href="https://askgif.com/" class="sidevar-nav-item">
                <li>Gifs</li>
            </a>
            <a href="https://askgif.com/blog/" class="sidevar-nav-item">
                <li>Blogs</li>
            </a>
        </ul>
    </amp-sidebar>
    <section class="content content-width" id="article-wrapper">
            <div class="article">
                <a href="/blog/1686/how-to-design-a-web-crawler">
                    <h2 class="title">
                        How to Design a web crawler
                    </h2>
                </a>

                <div class="author-info">
                    By <a href="">AskGif</a> | Nov 20, 2020
                </div>
                <div class="article-image">
                    <a href="/blog/1686/how-to-design-a-web-crawler/">
                        <amp-img src="https://raw.githubusercontent.com/sumitc91/sumitc91.github.io/master/Blogs/f983d8a0-6ee2-4024-8702-47973c582627.png" layout="responsive" width="1484" height="600"></amp-img>
                        <p class="subtext">
                            Source : AskGif
                        </p>
                    </a>
                </div>
                <div class="article-meta">
                    <ul class="tags">
                        <a class="tag" href="/blog/category/tutorials/"><li>tutorials</li></a>
                            <a class="tag" href="/blog/tags/design/"><li>design</li></a>
                            <a class="tag" href="/blog/tags/interview/"><li>interview</li></a>
                            <a class="tag" href="/blog/tags/system-design/"><li>system-design</li></a>
                    </ul>
                </div>
                <div class="article-body">
                    <p><p>Step 1: Outline use cases and constraints<br />Gather requirements and scope the problem. Ask questions to clarify use cases and constraints. Discuss assumptions.</p>
<p>Without an interviewer to address clarifying questions, we'll define some use cases and constraints.</p>
<p>Use cases<br />We'll scope the problem to handle only the following use cases<br />Service crawls a list of urls:<br />Generates reverse index of words to pages containing the search terms<br />Generates titles and snippets for pages<br />Title and snippets are static, they do not change based on search query<br />User inputs a search term and sees a list of relevant pages with titles and snippets the crawler generated<br />Only sketch high level components and interactions for this use case, no need to go into depth<br />Service has high availability</p>
<p><br />Out of scope<br />Search analytics<br />Personalized search results<br />Page rank<br />Constraints and assumptions</p>
<p><br />State assumptions<br />Traffic is not evenly distributed<br />Some searches are very popular, while others are only executed once<br />Support only anonymous users<br />Generating search results should be fast<br />The web crawler should not get stuck in an infinite loop<br />We get stuck in an infinite loop if the graph contains a cycle<br />1 billion links to crawl<br />Pages need to be crawled regularly to ensure freshness<br />Average refresh rate of about once per week, more frequent for popular sites<br />4 billion links crawled each month<br />Average stored size per web page: 500 KB<br />For simplicity, count changes the same as new pages<br />100 billion searches per month<br />Exercise the use of more traditional systems - don't use existing systems such as solr or nutch.</p>
<p>Calculate usage<br />Clarify with your interviewer if you should run back-of-the-envelope usage calculations.</p>
<p>2 PB of stored page content per month<br />500 KB per page * 4 billion links crawled per month<br />72 PB of stored page content in 3 years<br />1,600 write requests per second<br />40,000 search requests per second<br />Handy conversion guide:</p>
<p>2.5 million seconds per month<br />1 request per second = 2.5 million requests per month<br />40 requests per second = 100 million requests per month<br />400 requests per second = 1 billion requests per month<br />Step 2: Create a high level design<br />Outline a high level design with all important components.</p>
<p>Imgur</p>
<p>Step 3: Design core components<br />Dive into details for each core component.</p>
<p>Use case: Service crawls a list of urls<br />We'll assume we have an initial list of links_to_crawl ranked initially based on overall site popularity. If this is not a reasonable assumption, we can seed the crawler with popular sites that link to outside content such as Yahoo, DMOZ, etc.</p>
<p>We'll use a table crawled_links to store processed links and their page signatures.</p>
<p>We could store links_to_crawl and crawled_links in a key-value NoSQL Database. For the ranked links in links_to_crawl, we could use Redis with sorted sets to maintain a ranking of page links. We should discuss the use cases and tradeoffs between choosing SQL or NoSQL.</p>
<p>The Crawler Service processes each page link by doing the following in a loop:<br />Takes the top ranked page link to crawl<br />Checks crawled_links in the NoSQL Database for an entry with a similar page signature<br />If we have a similar page, reduces the priority of the page link<br />This prevents us from getting into a cycle<br />Continue<br />Else, crawls the link<br />Adds a job to the Reverse Index Service queue to generate a reverse index<br />Adds a job to the Document Service queue to generate a static title and snippet<br />Generates the page signature<br />Removes the link from links_to_crawl in the NoSQL Database<br />Inserts the page link and signature to crawled_links in the NoSQL Database<br />Clarify with your interviewer how much code you are expected to write.</p>
<p>PagesDataStore is an abstraction within the Crawler Service that uses the NoSQL Database:</p>
<p>class PagesDataStore(object):</p>
<p>&nbsp; &nbsp; def __init__(self, db);<br />&nbsp; &nbsp; &nbsp; &nbsp; self.db = db<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def add_link_to_crawl(self, url):<br />&nbsp; &nbsp; &nbsp; &nbsp; """Add the given link to `links_to_crawl`."""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def remove_link_to_crawl(self, url):<br />&nbsp; &nbsp; &nbsp; &nbsp; """Remove the given link from `links_to_crawl`."""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def reduce_priority_link_to_crawl(self, url)<br />&nbsp; &nbsp; &nbsp; &nbsp; """Reduce the priority of a link in `links_to_crawl` to avoid cycles."""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def extract_max_priority_page(self):<br />&nbsp; &nbsp; &nbsp; &nbsp; """Return the highest priority link in `links_to_crawl`."""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def insert_crawled_link(self, url, signature):<br />&nbsp; &nbsp; &nbsp; &nbsp; """Add the given link to `crawled_links`."""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def crawled_similar(self, signature):<br />&nbsp; &nbsp; &nbsp; &nbsp; """Determine if we've already crawled a page matching the given signature"""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...<br />Page is an abstraction within the Crawler Service that encapsulates a page, its contents, child urls, and signature:</p>
<p>class Page(object):</p>
<p>&nbsp; &nbsp; def __init__(self, url, contents, child_urls, signature):<br />&nbsp; &nbsp; &nbsp; &nbsp; self.url = url<br />&nbsp; &nbsp; &nbsp; &nbsp; self.contents = contents<br />&nbsp; &nbsp; &nbsp; &nbsp; self.child_urls = child_urls<br />&nbsp; &nbsp; &nbsp; &nbsp; self.signature = signature<br />Crawler is the main class within Crawler Service, composed of Page and PagesDataStore.</p>
<p>class Crawler(object):</p>
<p>&nbsp; &nbsp; def __init__(self, data_store, reverse_index_queue, doc_index_queue):<br />&nbsp; &nbsp; &nbsp; &nbsp; self.data_store = data_store<br />&nbsp; &nbsp; &nbsp; &nbsp; self.reverse_index_queue = reverse_index_queue<br />&nbsp; &nbsp; &nbsp; &nbsp; self.doc_index_queue = doc_index_queue</p>
<p>&nbsp; &nbsp; def create_signature(self, page):<br />&nbsp; &nbsp; &nbsp; &nbsp; """Create signature based on url and contents."""<br />&nbsp; &nbsp; &nbsp; &nbsp; ...</p>
<p>&nbsp; &nbsp; def crawl_page(self, page):<br />&nbsp; &nbsp; &nbsp; &nbsp; for url in page.child_urls:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.data_store.add_link_to_crawl(url)<br />&nbsp; &nbsp; &nbsp; &nbsp; page.signature = self.create_signature(page)<br />&nbsp; &nbsp; &nbsp; &nbsp; self.data_store.remove_link_to_crawl(page.url)<br />&nbsp; &nbsp; &nbsp; &nbsp; self.data_store.insert_crawled_link(page.url, page.signature)</p>
<p>&nbsp; &nbsp; def crawl(self):<br />&nbsp; &nbsp; &nbsp; &nbsp; while True:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; page = self.data_store.extract_max_priority_page()<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if page is None:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if self.data_store.crawled_similar(page.signature):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.data_store.reduce_priority_link_to_crawl(page.url)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; else:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.crawl_page(page)<br />Handling duplicates<br />We need to be careful the web crawler doesn't get stuck in an infinite loop, which happens when the graph contains a cycle.</p>
<p>Clarify with your interviewer how much code you are expected to write.</p>
<p>We'll want to remove duplicate urls:</p>
<p>For smaller lists we could use something like sort | unique<br />With 1 billion links to crawl, we could use MapReduce to output only entries that have a frequency of 1<br />class RemoveDuplicateUrls(MRJob):</p>
<p>&nbsp; &nbsp; def mapper(self, _, line):<br />&nbsp; &nbsp; &nbsp; &nbsp; yield line, 1</p>
<p>&nbsp; &nbsp; def reducer(self, key, values):<br />&nbsp; &nbsp; &nbsp; &nbsp; total = sum(values)<br />&nbsp; &nbsp; &nbsp; &nbsp; if total == 1:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; yield key, total<br />Detecting duplicate content is more complex. We could generate a signature based on the contents of the page and compare those two signatures for similarity. Some potential algorithms are Jaccard index and cosine similarity.</p>
<p>Determining when to update the crawl results<br />Pages need to be crawled regularly to ensure freshness. Crawl results could have a timestamp field that indicates the last time a page was crawled. After a default time period, say one week, all pages should be refreshed. Frequently updated or more popular sites could be refreshed in shorter intervals.</p>
<p>Although we won't dive into details on analytics, we could do some data mining to determine the mean time before a particular page is updated, and use that statistic to determine how often to re-crawl the page.</p>
<p>We might also choose to support a Robots.txt file that gives webmasters control of crawl frequency.</p>
<p>Use case: User inputs a search term and sees a list of relevant pages with titles and snippets<br />The Client sends a request to the Web Server, running as a reverse proxy<br />The Web Server forwards the request to the Query API server<br />The Query API server does the following:<br />Parses the query<br />Removes markup<br />Breaks up the text into terms<br />Fixes typos<br />Normalizes capitalization<br />Converts the query to use boolean operations<br />Uses the Reverse Index Service to find documents matching the query<br />The Reverse Index Service ranks the matching results and returns the top ones<br />Uses the Document Service to return titles and snippets<br />We'll use a public REST API:</p>
<p>$ curl https://search.com/api/v1/search?query=hello+world<br />Response:</p>
<p>{<br />&nbsp; &nbsp; "title": "foo's title",<br />&nbsp; &nbsp; "snippet": "foo's snippet",<br />&nbsp; &nbsp; "link": "https://foo.com",<br />},<br />{<br />&nbsp; &nbsp; "title": "bar's title",<br />&nbsp; &nbsp; "snippet": "bar's snippet",<br />&nbsp; &nbsp; "link": "https://bar.com",<br />},<br />{<br />&nbsp; &nbsp; "title": "baz's title",<br />&nbsp; &nbsp; "snippet": "baz's snippet",<br />&nbsp; &nbsp; "link": "https://baz.com",<br />},<br />For internal communications, we could use Remote Procedure Calls.</p>
<p>Step 4: Scale the design<br />Identify and address bottlenecks, given the constraints.</p>
<p>Imgur</p>
<p>Important: Do not simply jump right into the final design from the initial design!</p>
<p>State you would 1) Benchmark/Load Test, 2) Profile for bottlenecks 3) address bottlenecks while evaluating alternatives and trade-offs, and 4) repeat. See Design a system that scales to millions of users on AWS as a sample on how to iteratively scale the initial design.</p>
<p>It's important to discuss what bottlenecks you might encounter with the initial design and how you might address each of them. For example, what issues are addressed by adding a Load Balancer with multiple Web Servers? CDN? Master-Slave Replicas? What are the alternatives and Trade-Offs for each?</p>
<p>We'll introduce some components to complete the design and to address scalability issues. Internal load balancers are not shown to reduce clutter.</p>
<p>To avoid repeating discussions, refer to the following system design topics for main talking points, tradeoffs, and alternatives:</p>
<p>DNS<br />Load balancer<br />Horizontal scaling<br />Web server (reverse proxy)<br />API server (application layer)<br />Cache<br />NoSQL<br />Consistency patterns<br />Availability patterns<br />Some searches are very popular, while others are only executed once. Popular queries can be served from a Memory Cache such as Redis or Memcached to reduce response times and to avoid overloading the Reverse Index Service and Document Service. The Memory Cache is also useful for handling the unevenly distributed traffic and traffic spikes. Reading 1 MB sequentially from memory takes about 250 microseconds, while reading from SSD takes 4x and from disk takes 80x longer.1</p>
<p>Below are a few other optimizations to the Crawling Service:</p>
<p>To handle the data size and request load, the Reverse Index Service and Document Service will likely need to make heavy use sharding and federation.<br />DNS lookup can be a bottleneck, the Crawler Service can keep its own DNS lookup that is refreshed periodically<br />The Crawler Service can improve performance and reduce memory usage by keeping many open connections at a time, referred to as connection pooling<br />Switching to UDP could also boost performance<br />Web crawling is bandwidth-intensive, ensure there is enough bandwidth to sustain high throughput</p></p>
                     <amp-ad width="100vw" height="320"
                            type="adsense"
                            data-ad-client="ca-pub-1068871795581451"
                            data-ad-slot="7001708883"
                            data-auto-format="rspv"
                            data-full-width="">
                        <div overflow=""></div>
                    </amp-ad> 

                     <amp-ad width="100vw" height="320"
                            type="adsense"
                            data-ad-client="ca-pub-1068871795581451"
                            data-ad-slot="7001708883"
                            data-auto-format="rspv"
                            data-full-width="">
                        <div overflow=""></div>
                    </amp-ad> 
                </div>
            </div>

        <div class="article">
            <div class="article-meta">
                <ul class="tags">
                </ul>

            </div>
        </div>

        <div id="additional-info">
                <div class="related-box promo">
                    <a href="/blog/66/what-is-observer-pattern-/">
                        <amp-img src="https://raw.githubusercontent.com/sumitc91/sumitc91.github.io/master/Blogs/e69dad7f-de9e-4693-9048-db8d81419863_Observer-pattern.png" layout="responsive" width="1484" height="600"></amp-img>
                    </a>
                    <p><a href="/blog/66/what-is-observer-pattern-/">What is Observer pattern ?</a></p>
                </div>
                <div class="related-box promo">
                    <a href="/blog/75/what-is-state-pattern/">
                        <amp-img src="https://raw.githubusercontent.com/sumitc91/sumitc91.github.io/master/Blogs/ee03abc9-76e3-4fe4-9e66-c1b577a3fb8f_State_Pattern.jpg" layout="responsive" width="1484" height="600"></amp-img>
                    </a>
                    <p><a href="/blog/75/what-is-state-pattern/">What is State pattern?</a></p>
                </div>
                <div class="related-box promo">
                    <a href="/blog/78/what-is-design-patterns/">
                        <amp-img src="https://raw.githubusercontent.com/sumitc91/sumitc91.github.io/master/Blogs/8a74e74a-3070-41f8-9ddf-4d3b87119ee7_design-patterns.png" layout="responsive" width="1484" height="600"></amp-img>
                    </a>
                    <p><a href="/blog/78/what-is-design-patterns/">What is Design Patterns?</a></p>
                </div>
                <div class="related-box promo">
                    <a href="/blog/1699/database-tutorial/">
                        <amp-img src="https://raw.githubusercontent.com/sumitc91/sumitc91.github.io/master/Blogs/icon_c7cd88d2-763e-4ef9-9beb-362cd1bf07b7.jpg" layout="responsive" width="1484" height="600"></amp-img>
                    </a>
                    <p><a href="/blog/1699/database-tutorial/">Database Tutorial</a></p>
                </div>
             <amp-ad width="100vw" height="320"
                    type="adsense"
                    data-ad-client="ca-pub-1068871795581451"
                    data-ad-slot="7001708883"
                    data-auto-format="rspv"
                    data-full-width="">
                <div overflow=""></div>
            </amp-ad> 

            <div class="related-box">
                <h3>Categories</h3>
                <ul>
                </ul>
            </div>
            <div class="related-box promo">
                 <amp-ad width="100vw" height="320"
                        type="adsense"
                        data-ad-client="ca-pub-1068871795581451"
                        data-ad-slot="7001708883"
                        data-auto-format="rspv"
                        data-full-width="">
                    <div overflow=""></div>
                </amp-ad> 
            </div>
        </div>
    </section>

    <footer>
        <div class="content content-width">
            <div class="footer-menu">
                <div class="footer-item">
                    <h2>About AskGif</h2>
                    <p>
                        AskGif is an honest to GOD approach to bring little smile on the tense faces. Make sure to play your part in our mission
                        to make people smile. Keep smiling and keep sharing
                    </p><br>
                    <a href="https://askgif.com/about-us/">Read More</a>
                </div>
                <div class="footer-item">
                    <h2>Sarkari Support &amp; Help</h2>
                    <ul>
                        <li><a href="https://askgif.com/faq/">FAQs</a></li>
                        <li>Have Questions? Email us @ support[at]askgif[dot]com</li>
                    </ul>
                </div>
                <div class="footer-item">
                    <h2>Follow us</h2>
                    <p>Adhe Idhar Jao Adhe Udhar Jao</p>
                    <p>Baki hamare piche ao</p>
                </div>
                <div class="footer-item">
                    <h2>Quick Links</h2>
                    <ul>
                        <li><a href="https://askgif.com/?lang=en">English</a></li>
                        <li><a href="https://askgif.com/?lang=hi">हिंदी</a></li>
                        <li><a href="https://askgif.com/terms-of-service/">Terms of Service</a></li>
                        <li><a href="https://askgif.com/privacy-policy/">Privacy Policy</a></li>
                        <li><a href="https://askgif.com/editor/">Editor</a></li>
                        <li><a href="https://askgif.com/contributors/">Developers & Contributors</a></li>
                        <li><a href="https://askgif.com/sitemap.xml">Site Map</a></li>
                    </ul>
                </div>
            </div>
            <div class="social">
                <ul>
                    <li><a rel="ugc nofollow" href="https://www.facebook.com/askgifdotcom/"><i class="fab fa-facebook-f"></i></a></li>
                    <li><a rel="ugc nofollow" href="https://twitter.com/askgifdotcom"><i class="fab fa-twitter"></i></a></li>
                    <li><a rel="ugc nofollow" href="https://www.pinterest.com/askgifdotcom/"><i class="fab fa-pinterest"></i></a></li>
                    <li><a rel="ugc nofollow" href="https://www.instagram.com/askgifdotcom/"><i class="fab fa-instagram"></i></a></li>
                    <li><a rel="ugc nofollow" href="https://www.tumblr.com/blog/askgifdotcom"><i class="fab fa-tumblr"></i></a></li>
                </ul>
            </div>

            <div class="meta-content">
                <p>Copyright 2021 | Designed by <a href="https://askgif.com/">Askgif</a> | Last Cached: 10/30/2021 9:42:29 AM | A</p>
            </div>
        </div>
    </footer>
</body>

</html>

